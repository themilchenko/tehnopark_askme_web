{% extends "inc/base.html" %}
{% load static %}
{% block navbar %}
    {% include "inc/navbar.html" %}
{% endblock navbar %}
{% block content %}
    <div class="col-9">
        <div class="question d-flex border-success">
            <div class="left-side me-3">
                <img class="question-avatar rounded mx-auto d-block"
                     src="{% static "img/question.png" %}"
                     alt="">
                <div class="btn-group" role="group">
                    <button type="button" class="btn btn-light me-1">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             width="20"
                             height="20"
                             fill="currentColor"
                             class="bi bi-caret-up-square"
                             viewBox="0 0 16 16">
                            <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                            <path d="M3.544 10.705A.5.5 0 0 0 4 11h8a.5.5 0 0 0 .374-.832l-4-4.5a.5.5 0 0 0-.748 0l-4 4.5a.5.5 0 0 0-.082.537z"/>
                        </svg>
                        {{ question.get_likes }}
                    </button>
                    <button type="button" class="btn btn-light">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             width="20"
                             height="20"
                             fill="currentColor"
                             class="bi bi-caret-down-square"
                             viewBox="0 0 16 16">
                            <path d="M3.626 6.832A.5.5 0 0 1 4 6h8a.5.5 0 0 1 .374.832l-4 4.5a.5.5 0 0 1-.748 0l-4-4.5z"/>
                            <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 0a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2z"/>
                        </svg>
                        {{ question.get_dislikes }}
                    </button>
                </div>
            </div>
            <div class="me-2 flex-fill">
                <h3>{{ question.title_text }}</h3>
                <p style="word-break: break-all;">
                    {{ question.question_text }}
                </p>
                <li class="list-inline-item"
                    style="margin-bottom: 0;
                           margin-right: 23rem;">
                    <div class="btn-group" role="group">
                        {% for tag in question.get_tags %}
                            {% if tag.color == 'r' %}
                                <button class="btn btn-danger btn-sm">{{ tag }}</button>
                            {% elif tag.color == 'y' %}
                                <button class="btn btn-warning btn-sm">{{ tag }}</button>
                            {% else %}
                                <button class="btn btn-success btn-sm">{{ tag }}</button>
                            {% endif %}
                        {% endfor %}
                    </div>
                    <a type="button" class="btn">Author: {{ question.user }}</a>
                </li>
            </div>
        </div>
        <h3 class="d-flex" style="margin: 20px;">Answers  ({{ answer|length }})</h3>
        {% include 'inc/question-paginator.html' %}
        {% for item in question_page_obj %}
            {% include 'inc/answer-template.html' %}
        {% endfor %}
        {% if user.profile.is_authenticated %}
            <div class="form-group mb-2" style="margin: 20px;">
                <form method="post">
                    {% csrf_token %}
                    <p for="formGroupExampleInput text-primary">
                        Type your answer
                    </p>
                    <textarea class="form-control mb-4"
                              name="answer"
                              placeholder="Enter your answer here"
                              aria-label="With textarea"></textarea>
                    {{ form.title_text }}
                    <button type="submit" class="btn btn-primary mb-4" style="margin: 20px;">Answer</button>
                </form>
            </div>
        {% endif %}
    </div>
    <div class="col-3">
        <h2 class="mt-2">Tags</h2>
        <div class="mt-4">{% include "inc/tags-template.html" %}</div>
    </div>
</div>
{% endblock content %}
