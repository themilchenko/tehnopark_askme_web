{% load static %}
<div class="question d-flex">
    <div class="left-side me-3">
        <img class="question-avatar rounded mx-auto d-block"
             src="{% static "img/question.png" %}"
             alt="">
        <div class="btn-group" role="group">
            <form class="btn btn-light me-1">
                <svg xmlns="http://www.w3.org/2000/svg"
                     width="20"
                     height="20"
                     fill="currentColor"
                     class="bi bi-caret-up-square"
                     viewBox="0 0 16 16">
                    <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                    <path d="M3.544 10.705A.5.5 0 0 0 4 11h8a.5.5 0 0 0 .374-.832l-4-4.5a.5.5 0 0 0-.748 0l-4 4.5a.5.5 0 0 0-.082.537z"/>
                </svg>
                {% if request.user.is_authenticated %}
                    {% csrf_token %}
                    <button class="button-like question btn btn-light me-1"
                            data-id="{{ question.id }}"
                            type="button">
                        {{ question.likes_count }}
                    </button>
                {% else %}
                    <a class="button-like btn btn-light me-1"
                       data-id="{{ question.id }}"
                       href=
                       {% url "auth" %}
                       type="button">{{ question.likes_count }}</a>
                {% endif %}
            </form>
            <form class="btn btn-light me-1">
                <svg xmlns="http://www.w3.org/2000/svg"
                     width="20"
                     height="20"
                     fill="currentColor"
                     class="bi bi-caret-down-square mx-auto"
                     viewBox="0 0 16 16">
                    <path d="M3.626 6.832A.5.5 0 0 1 4 6h8a.5.5 0 0 1 .374.832l-4 4.5a.5.5 0 0 1-.748 0l-4-4.5z"/>
                    <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 0a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2z"/>
                </svg>
                {% if request.user.is_authenticated %}
                    {% csrf_token %}
                    <button class="button-dislike question btn btn-light me-1"
                            data-id="{{ question.id }}"
                            type="button">
                        {{ question.dislikes_count }}
                    </button>
                {% else %}
                    <a class="button-like btn btn-light me-1"
                       data-id="{{ question.id }}"
                       href=
                       {% url "auth" %}
                       type="button">{{ question.dislikes_count }}</a>
                {% endif %}
            </form>
        </div>
    </div>
    <div class="me-2 flex-fill">
        <h3>{{ question.title_text }}</h3>
        <p style="overflow: hidden;
                  display: -webkit-box;
                  -webkit-line-clamp: 3;
                  -webkit-box-orient: vertical;
                  word-break:break-all;">
            {{ question.question_text }}
        </p>
        <div class="text-end">
            <div class="btn-group" role="group">
                {% for tag in question.get_tags %}
                    {% if tag.color == 'r' %}
                        <button class="btn btn-danger btn-sm">{{ tag }}</button>
                    {% elif tag.color == 'y' %}
                        <button class="btn btn-warning btn-sm">{{ tag }}</button>
                    {% elif tag.color == 'g' %}
                        <button class="btn btn-success btn-sm">{{ tag }}</button>
                    {% endif %}
                {% endfor %}
            </div>
        </div>
        <ul class="list-inline text-end mt-2">
            <li class="list-inline-item">
                <a type="button" class="btn">Author: {{ question.user }}</a>
            </li>
            <li class="list-inline-item">
                <div type="button" class="btn btn-light" style="margin: auto">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         width="16"
                         height="16"
                         fill="currentColor"
                         class="bi bi-chat-left-dots"
                         viewBox="0 0 16 16">
                        <path d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                        <path d="M5 6a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                    </svg>
                    Answers: {{ question.answers_count }}
                </div>
            </li>
            <li class="list-inline-item">
                <a type="button"
                   id="view-btn"
                   href="{% url 'view-question' question.id %}"
                   class="btn btn-primary justify-content-end">View</a>
            </li>
        </ul>
    </div>
</div>
